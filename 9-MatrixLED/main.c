#include <REGX52.H>
#include "Delay.h"
#include "MatrixLED.h"

void ShowHello(unsigned char offset){
	unsigned char cor;
	unsigned char code hello[] = {	// 使用code关键字将数据保存在flush内存中，减少ram占用
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,	// 过渡显示
		0xFF,0x10,0x10,0x10,0xFF,0x00,0x1E,0x29,
		0x29,0x1A,0x00,0x7F,0x01,0x02,0x00,0x7F,
		0x01,0x02,0x00,0x3E,0x41,0x41,0x3E,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
	};
	for(cor = 0; cor < 8; cor++){	// 扫描显示8列
		MatrixLED_ShowCol(cor, hello[cor + offset]);
	}
}

void main(){
	unsigned char offset = 0;		// 偏移
	MatrixLED_Init();
	while(1){
		ShowHello(offset);
		Delay(30);
		offset++;
		if(offset > 32)				// 重置偏移量
			offset = 0;
	}
}